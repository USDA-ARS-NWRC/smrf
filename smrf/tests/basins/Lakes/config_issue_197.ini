################################################################################

# For details on configuration file syntax see:
# https://docs.python.org/2/library/configparser.html
#
# For more SMRF related help see:
# http://smrf.readthedocs.io/en/latest/


################################################################################
# Files for DEM and vegetation
################################################################################

[topo]
filename:                      ./topo/topo.nc
gradient_method:               gradient_d8
sky_view_factor_angles:        72


################################################################################
# Dates to run model
################################################################################

[time]
time_step:                     60
start_date: 			       2018-12-04 12:00:00
end_date: 			           2018-12-04 14:00:00
time_zone:                     UTC


################################################################################
# Gridded dataset i.e. wrf_out
################################################################################

[gridded]
data_type:                     hrrr_grib
hrrr_directory:                /data/snowpack/forecasts/hrrr_crop/lakes
hrrr_load_method:              timestep


################################################################################
# Air temperature distribution
################################################################################

[air_temp]
distribution:                  grid
grid_method:                   cubic
detrend:                       True
detrend_slope:                 -1
grid_mask:                     False
grid_local:		               True
min:                           -73.0
max:                           47.0

################################################################################
# Vapor pressure distribution
################################################################################

[vapor_pressure]
distribution:                  grid
grid_method:                   cubic
detrend:                       True
detrend_slope:                 -1
grid_mask:                     False
grid_local:		               True
dew_point_tolerance:           0.01
dew_point_nthreads:            8
min:                           20.0
max:                           5000.0

################################################################################
# Wind speed and wind direction distribution
################################################################################

[wind]
wind_model:                     wind_ninja
distribution:                   grid
min:                            0.5
max:                            30.0
grid_mask:                      False
wind_ninja_dir:                 /data/albedo/lakes/wy2019/lakes_test_susong1999/wind_ninja
wind_ninja_dxdy:                50
wind_ninja_pref:                topo_windninja_topo
wind_ninja_tz:                  UTC

################################################################################
# Precipitation distribution
################################################################################

[precip]
distribution:                   grid
grid_method:                    cubic
detrend:                        True
detrend_slope:                  1
grid_mask:                      False
station_adjust_for_undercatch:  False
storm_mass_threshold:           1.0
storm_days_restart:             None
min:                            0.0
max:                            None
new_snow_density_model:         susong1999
susong1999_timesteps_to_end_storms:       6
precip_temp_method:             wet_bulb


################################################################################
# Albedo distribution
################################################################################

[albedo]
grain_size:                     100.0
max_grain:                      700.0
dirt:                           2.0
max:                            1.0
min:                            0.0
grid_mask:                      True
# albedo decay parameters
decay_method:                   date_method
date_method_start_decay:		2019-03-15
date_method_end_decay:		    2019-7-1
date_method_veg_default:        0.2
date_method_decay_power:        0.714


################################################################################
# Cloud Factor - Fraction used to limit solar radiation Cloudy (0) - Sunny (1)
################################################################################
[cloud_factor]
distribution:                   grid
grid_method:                    cubic
detrend:                        False
grid_mask:                      False


################################################################################
# Solar radiation distribution
################################################################################

[solar]
clear_opt_depth:                100.0
clear_tau:                      0.2
clear_omega:                    0.85
clear_gamma:                    0.3
min:                            0.0
max:                            800.0


################################################################################
# Thermal radiation distribution
################################################################################

[thermal]
cloud_method:                  garen2005
marks1979_nthreads:            8
min:                           0.0
max:                           600.0
grid_mask:                     True
clear_sky_method:              marks1979

################################################################################
#  Soil temperature
################################################################################

[soil_temp]
temp:                          -2.5

################################################################################
# Output variables
################################################################################

[output]
frequency:                     1
variables:                     thermal, air_temp, vapor_pressure, wind_speed, net_solar, precip, percent_snow, snow_density, precip_temp, storm_days, cloud_factor
file_type:                     netcdf
out_location:                  ./output

################################################################################
# System variables
################################################################################

[system]
threading:                     False
queue_max_values:              1
time_out:                      None
log_level:                     debug